(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[221],{2443:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return F}));var l=t(51),n=t(13),o=t(14),c=t(15),r=t(16),i=t(0),s=t.n(i),p=t(1154),m=t(1155),d=t(1152),u=t(1153),y=t(1156),h=t(172),g=t(1159),b=t(1172),E=t(1173),N=t(1174),v=(t(806),t(804)),f=t(801),S=t(807),_=t.n(S),P=t(56),k=t(564),C=(t(805),t(811),t(795)),T=t.n(C),F=function(e){Object(c.a)(t,e);var a=Object(r.a)(t);function t(e){var o;return Object(n.a)(this,t),(o=a.call(this,e)).onEditorStateChangePara=function(e){o.setState({editorState:e,paraDescription:_()(Object(v.convertToRaw)(e.getCurrentContent()))})},o.onEditorStateChangepolicy=function(e){o.setState({editorState1:e,policyDescription:_()(Object(v.convertToRaw)(e.getCurrentContent()))})},o.handleImage=function(e){o.setState({plan_image:e.target.files[0]})},o.handlePolicyType=function(e){console.log(e.target.value),o.setState({policyType:e.target.value})},o.changeHandler=function(e){o.setState(Object(l.a)({},e.target.name,e.target.value))},o.submitHandler=function(e){var a=new FormData;a.append("policyName",o.state.policyName),a.append("policyNum",o.state.policyNumber),a.append("policyDesc",o.state.policyDescription),a.append("policyUnderWriter",o.state.policyUnderWriter),a.append("proproetary",o.state.proprietary),a.append("policyType",o.state.policyType),a.append("policyAdtional",o.state.policyAdditionalFeatures),a.append("paraDesc",o.state.paraDescription),a.append("policyPage",o.state.policy_page),a.append("policyDocument",o.state.policy_document),a.append("policyFAQ",o.state.policy_FAQ),a.append("purchesLink",o.state.purchase_link),a.append("brochureLink",o.state.brochure_link),a.append("purched",o.state.purchased),a.append("renewed",o.state.renewed),null!==o.state.plan_image&&a.append("planimg",o.state.plan_image),a.append("status",o.state.policyActive),e.preventDefault();var t=o.props.match.params.id;console.log(o.state.policyType),k.a.post("/admin/editPolicy/".concat(t),a).then((function(e){T()("Success!","Submitted SuccessFull!","success"),o.props.history.push("/app/policy/PolicyList")})).catch((function(e){T()("Something Went Wrong")}))},o.state={policyName:"",policyNumber:"",policyUnderWriter:"",proprietary:"",policyType:"",policyAdditionalFeatures:"",policyDescription:"",paraDescription:"",policy_page:"",policy_document:"",policy_FAQ:"",purchase_link:"",plan_image:"",brochure_link:"",purchased:"",renewed:"",policyActive:"",policyTypeList:[],editorState:v.EditorState.createEmpty()},o}return Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,a=this.props.match.params.id;k.a.get("/admin/get_pt").then((function(a){e.setState({policyTypeList:a.data.data})})).catch((function(e){T()("Something Went Wrong")})),k.a.get("/admin/getOnePolicy/".concat(a)).then((function(a){var t,l,n,o,c;console.log(null===(t=a.data)||void 0===t||null===(l=t.data)||void 0===l?void 0:l.policyType.pt_type),console.log(null===(n=a.data)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.policyType._id);var r=null===a||void 0===a||null===(c=a.data)||void 0===c?void 0:c.data,i=r.paraDesc,s=r.brochureLink,p=r.policyAdtional,m=r.policyDesc,d=r.policyDocument,u=r.policyFAQ,y=r.policyName,h=r.policyPage,g=r.policyType,b=r.policyUnderWriter,E=r.purchesLink,N=r.renewed,f=r.status,S=r.purched,_=r.policyNum,P=r.proproetary,k=v.ContentState.createFromBlockArray(Object(v.convertFromHTML)(i)),C=v.ContentState.createFromBlockArray(Object(v.convertFromHTML)(m)),T=v.EditorState.createWithContent(k),F=v.EditorState.createWithContent(C);e.setState({policyName:y,policyNumber:_,policyUnderWriter:b,proprietary:P,policyType:null===g||void 0===g?void 0:g._id,policyAdditionalFeatures:p,policyDescription:m,paraDescription:i,policy_page:h,policy_document:d,policy_FAQ:u,purchase_link:E,brochure_link:s,purchased:S,renewed:N,policyActive:f,editorState:T,editorState1:F})})).catch((function(e){T()("Something Went Wrong")}))}},{key:"render",value:function(){var e,a=this;return s.a.createElement("div",null,s.a.createElement(p.a,null,s.a.createElement(m.a,{sm:"12"},s.a.createElement("div",null,s.a.createElement(d.a,{listTag:"div"},s.a.createElement(u.a,{href:"/",tag:"a"},"Home"),s.a.createElement(u.a,{active:!0},"Edit Policy"))))),s.a.createElement(y.a,null,s.a.createElement(p.a,{className:"m-2"},s.a.createElement(m.a,null,s.a.createElement("h1",{"col-sm-6":!0,className:"float-left"},"Edit Policy")),s.a.createElement(m.a,null,s.a.createElement(P.b,{render:function(e){var a=e.history;return s.a.createElement(h.a,{className:" btn btn-danger float-right",onClick:function(){return a.push("/app/policy/PolicyList")}},"Back")}}))),s.a.createElement(g.a,null,s.a.createElement(b.a,{className:"m-1",onSubmit:this.submitHandler},s.a.createElement(p.a,null,s.a.createElement(m.a,{lg:"6",md:"6",sm:"12",className:"mb-2"},s.a.createElement(E.a,null,"PolicyName "),s.a.createElement(N.a,{type:"text",name:"policyName",placeholder:"policyName",value:this.state.policyName,onChange:this.changeHandler})),s.a.createElement(m.a,{lg:"6",md:"6",sm:"12",className:"mb-2"},s.a.createElement(E.a,null,"PolicyNumber"),s.a.createElement(N.a,{type:"text",name:"policyNumber",placeholder:"PolicyNumber",value:this.state.policyNumber,onChange:this.changeHandler})),s.a.createElement(m.a,{lg:"6",md:"6",sm:"12",className:"mb-2"},s.a.createElement(E.a,null,"policyUnderWriter "),s.a.createElement(N.a,{type:"text",name:"policyUnderWriter",placeholder:"PolicyUnderWriter",value:this.state.policyUnderWriter,onChange:this.changeHandler})),s.a.createElement(m.a,{lg:"6",md:"6",sm:"12",className:"mb-2"},s.a.createElement(E.a,null,"Proprietary "),s.a.createElement(N.a,{type:"text",name:"proprietary",placeholder:"Proprietary",value:this.state.proprietary,onChange:this.changeHandler})),s.a.createElement(m.a,{lg:"6",md:"6",sm:"12",className:"mb-2"},s.a.createElement(E.a,null,"PolicyAdditionalFeatures "),s.a.createElement(N.a,{type:"text",name:"policyAdditionalFeatures",placeholder:"PolicyAdditionalFeatures",value:this.state.policyAdditionalFeatures,onChange:this.changeHandler})),s.a.createElement(m.a,{lg:"6",md:"6",sm:"12",className:"mb-2"},s.a.createElement(E.a,null,"Policy Page "),s.a.createElement(N.a,{type:"text",name:"policy_page",placeholder:"PolicyPage",value:this.state.policy_page,onChange:this.changeHandler}))," ",s.a.createElement(m.a,{lg:"6",md:"6",sm:"12",className:"mb-2"},s.a.createElement(E.a,null,"Policy Document "),s.a.createElement(N.a,{type:"text",name:"policy_document",placeholder:"Policy Document",value:this.state.policy_document,onChange:this.changeHandler}))," ",s.a.createElement(m.a,{lg:"6",md:"6",sm:"12",className:"mb-2"},s.a.createElement(E.a,null,"Policy FAQ "),s.a.createElement(N.a,{type:"text",name:"policy_FAQ",placeholder:"Policy FAQ",value:this.state.policy_FAQ,onChange:this.changeHandler})),s.a.createElement(m.a,{lg:"6",md:"6",sm:"12",className:"mb-2"},s.a.createElement(E.a,null,"Purchase Link "),s.a.createElement(N.a,{type:"text",name:"purchase_link",placeholder:"Purchase_link",value:this.state.purchase_link,onChange:this.changeHandler})),s.a.createElement(m.a,{lg:"6",md:"6",sm:"12",className:"mb-2"},s.a.createElement(E.a,null,"Brochure Link "),s.a.createElement(N.a,{type:"text",name:"brochure_link",placeholder:"Brochure Link",value:this.state.brochure_link,onChange:this.changeHandler})),s.a.createElement(m.a,{lg:"6",md:"6",sm:"12",className:"mb-2"},s.a.createElement(E.a,null,"Purchased "),s.a.createElement(N.a,{type:"text",name:"purchased",placeholder:"Purchased",value:this.state.purchased,onChange:this.changeHandler})),s.a.createElement(m.a,{lg:"6",md:"6",sm:"12",className:"mb-2"},s.a.createElement(E.a,{for:"data-category"},"Policy Type"),s.a.createElement(N.a,{type:"select",id:"data-category",name:"policyType",value:this.state.policyType,onChange:this.handlePolicyType,defaultValue:this.state.policyType},null===(e=this.state.policyTypeList)||void 0===e?void 0:e.map((function(e){return s.a.createElement("option",{key:e._id,value:e._id},e.pt_type)})))),s.a.createElement(m.a,{lg:"6",md:"6",sm:"12",className:"mb-2"},s.a.createElement(E.a,null,"Policy Descripition"),s.a.createElement(f.Editor,{toolbarClassName:"demo-toolbar-absolute",wrapperClassName:"demo-wrapper",editorClassName:"demo-editor",editorState:this.state.editorState1,onEditorStateChange:this.onEditorStateChangepolicy,toolbar:{options:["inline","blockType","fontSize","fontFamily"],inline:{options:["bold","italic","underline","strikethrough","monospace"],bold:{className:"bordered-option-classname"},italic:{className:"bordered-option-classname"},underline:{className:"bordered-option-classname"},strikethrough:{className:"bordered-option-classname"},code:{className:"bordered-option-classname"}},blockType:{className:"bordered-option-classname"},fontSize:{className:"bordered-option-classname"},fontFamily:{className:"bordered-option-classname"}}})),s.a.createElement(m.a,{lg:"6",md:"6",sm:"12",className:"mb-2"},s.a.createElement(E.a,null,"Para Descripition"),s.a.createElement(f.Editor,{toolbarClassName:"demo-toolbar-absolute",wrapperClassName:"demo-wrapper",editorClassName:"demo-editor",editorState:this.state.editorState,onEditorStateChange:this.onEditorStateChangePara,toolbar:{options:["inline","blockType","fontSize","fontFamily"],inline:{options:["bold","italic","underline","strikethrough","monospace"],bold:{className:"bordered-option-classname"},italic:{className:"bordered-option-classname"},underline:{className:"bordered-option-classname"},strikethrough:{className:"bordered-option-classname"},code:{className:"bordered-option-classname"}},blockType:{className:"bordered-option-classname"},fontSize:{className:"bordered-option-classname"},fontFamily:{className:"bordered-option-classname"}}})),s.a.createElement(m.a,{lg:"6",md:"6",sm:"12",className:"mb-2"},s.a.createElement(E.a,null,"Plan Image "),s.a.createElement(N.a,{type:"file",name:"plan_image",onChange:this.handleImage})),s.a.createElement(m.a,{lg:"6",md:"6",sm:"6",className:"mb-2"},s.a.createElement(E.a,{className:"mb-1"},"Status"),s.a.createElement("div",{className:"form-label-group",onChange:function(e){return a.changeHandler1(e)}},s.a.createElement("input",{style:{marginRight:"3px"},type:"radio",name:"status",value:"true",checked:!0}),s.a.createElement("span",{style:{marginRight:"20px"}},"Active"),s.a.createElement("input",{style:{marginRight:"3px"},type:"radio",name:"status",value:"false"}),s.a.createElement("span",{style:{marginRight:"3px"}},"Inactive")))),s.a.createElement(p.a,null,s.a.createElement(m.a,{lg:"6",md:"6",sm:"6",className:"mb-2",style:{marginLeft:"15px"}},s.a.createElement(h.a.Ripple,{color:"primary",type:"submit",className:"mr-1 mb-1"},"Update Policy")))))))}}]),t}(i.Component)}}]);
//# sourceMappingURL=221.d91ce71e.chunk.js.map